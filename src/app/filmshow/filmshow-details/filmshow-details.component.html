<div class="container my-5">

    <div *ngIf="filmshow">

        <app-filmshow-form #formedit buttonText="Zapisz zmiany" [bindFilmshow]="filmshow" (onSubmitForm)="onUpdateFilmshow($event)"></app-filmshow-form>

        <div class="row mb-5">
            <div class="col-sm-8">
                <h3 class="font-weight-semibold">{{ filmshow.movie.title }}</h3>
            </div>
            <div class="col-sm-4 text-right">
                <h4>{{ filmshow.date | date: 'dd.MM.yyyy HH:mm' }}</h4>
            </div>
        </div>

        <div class="row">
            <div class="col-sm-3">
                <img src="assets/img/movie.png" class="img-fluid" alt="Piraci z karaibów - Klątwa czarnej perły">
            </div>
            
            <div class="col-sm-9">
                <p>
                    {{ filmshow.movie.description | descTruncate:256 }} 
                    <br/><a [routerLink]="['/movie/details', filmshow.movie.id]">Szczegóły filmu</a>
                </p>

                Czas trwania: {{ filmshow.movie.duration }}min

                <div>
                    <h5 class="font-weight-bold text-success my-4">Wolne miejsca: {{ filmshow | seatsCnt }}</h5>

                    <div class="row">
                        <div class="col">
                            <button class="btn btn-primary btn-lg" [routerLink]="['/filmshow/buy', filmshow.id]">Kup bilet</button>
                        </div>
                        <div class="col text-right">
                            <button class="btn btn-secondary ml-2" (click)="formedit.toggle()">Edytuj</button>
                        </div>
                    </div>
                    
                </div>
                
                
            </div>
        </div>
        
    </div>

</div>
    